<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
	<data>
		<record id="view_product_template_form_inherited" model="ir.ui.view">
        <field name="name">product.template.form.new.inherited</field>
        <field name="model">product.template</field>
        <field name="arch" type="xml">
                <tree string="Product Variants" multi_edit="1" duplicate="false" sample="1">
                    <field name="default_code" optional="show" readonly="1"/>
                    <field name="barcode" optional="hide" readonly="1"/>
                    <field name="name" readonly="1"/>

                    <field name="one_month" widget="progressbar" optional="show"/>
                    <field name="one_unit_sold"  optional="show"/>
                    <field name="one_sum_of_sales"  optional="show"/>
                    <field name="one_diif_sales_cost"  optional="show"/>

                    <field name="two_months"  widget="progressbar" optional="show"/>
                    <field name="two_unit_sold" optional="show"/>
                    <field name="two_sum_of_sales" optional="show"/>
                    <field name="two_diif_sales_cost" optional="show"/>

                    <field name="three_months"  widget="progressbar" optional="show"/>
                    <field name="three_unit_sold" optional="show"/>
                    <field name="three_sum_of_sales" optional="show"/>
                    <field name="three_diif_sales_cost" optional="show"/>

<!--                    <field name="sum_of_sales" optional="show"/>-->
<!--                    <field name="diif_sales_cost" optional="show"/>-->

                </tree>
        </field>
    	</record>

		<record id="last_year_view_product_template_form_inherited" model="ir.ui.view">
            <field name="name">product.template.form.new.inherited</field>
            <field name="model">product.template</field>
            <field name="arch" type="xml">
                <tree string="Product Variants" multi_edit="1" duplicate="false" sample="1">
                    <field name="default_code" optional="show" readonly="1"/>
                    <field name="barcode" optional="hide" readonly="1"/>
                    <field name="name" readonly="1"/>

                    <field name="last_year_one_month" widget="progressbar" optional="show"/>
                    <field name="last_year_one_unit_sold"  optional="show"/>
                    <field name="last_year_one_sum_of_sales"  optional="show"/>
                    <field name="last_year_one_diif_sales_cost"  optional="show"/>

                    <field name="last_year_two_months"  widget="progressbar" optional="show"/>
                    <field name="last_year_two_unit_sold" optional="show"/>
                    <field name="last_year_two_sum_of_sales" optional="show"/>
                    <field name="last_year_two_diif_sales_cost" optional="show"/>

                    <field name="last_year_three_months"  widget="progressbar" optional="show"/>
                    <field name="last_year_three_unit_sold" optional="show"/>
                    <field name="last_year_three_sum_of_sales" optional="show"/>
                    <field name="last_year_three_diif_sales_cost" optional="show"/>
                </tree>
            </field>
    	</record>

    <record id="purchase_product_template_action_product" model="ir.actions.act_window">
        <field name="name">Products</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">product.template</field>
        <field name="view_mode">tree</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No product found. Let's create one!
            </p><p>
                Track your stock quantities by creating storable products.
            </p>
        </field>
    </record>

    <menuitem id="menu_product_template_purchases" name="Products KPI" action="purchase_kpi.purchase_product_template_action_product"
        parent="purchase.menu_purchase_products" sequence="3"/>

	</data>
        <data noupdate="1">
           <record id="purchase_kpi_cron" model="ir.cron">
           <field name="name">Purchase KPI Action</field>
           <field name="model_id" ref="product.model_product_template"/>
           <field name="state">code</field>
           <field name="code">model.compute_one_month()</field>
           <field name='interval_number'>1</field>
           <field name='interval_type'>minutes</field>
           <field name="numbercall">-1</field>
           <field name="doall" eval="False"/>
           <field name="active" eval="True"/>
       </record>
    </data>


</odoo>
