<?xml version="1.0" encoding="utf-8"?>
<odoo>
<data>
    <record id="onyx_action_social_media" model="ir.actions.act_window">
        <field name="name">Onyx Social Media</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">onyx.social.media</field>
        <field name="view_mode">kanban,form</field>
    </record>

<!--    <record id="onyx_menu_social_media" model="ir.ui.menu">-->
<!--        <field name="action" ref="action_social_media" />-->
<!--    </record>-->

    <record id="onyx_social_media_view_kanban" model="ir.ui.view">
        <field name="name">onyx.social.media.view.kanban</field>
        <field name="model">onyx.social.media</field>
        <field name="arch" type="xml">
            <kanban create="false" class="o_kanban_social_media">
                <field name="id"/>
                <field name="name"/>
                <field name="onyx_media_description"/>
                <field name="onyx_media_type"/>
                <field name="onyx_can_link_accounts"/>
                <templates>
                    <t t-name="kanban-box">
                        <div class="oe_kanban_color_5">
                            <div class="o_kanban_image">
                                <img type="open" t-att-src="kanban_image('onyx.social.media', 'image', record.id.raw_value)" alt="Social Media"/>
                            </div>
                            <div class="mb-2">
                                <h3 class="mt4"><t t-esc="record.name.value"/></h3>
                                <t t-esc="record.onyx_media_description.value"/>
                            </div>
                            <div>
                                <button t-if="record.onyx_can_link_accounts.raw_value" type="object" class="btn btn-primary float-right" name="action_add_account_onyx">Link account</button>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>
    <menuitem
        id="onyx_menu_social_media"
        parent="onyx_menu_social_configuration"
        action="onyx_action_social_media"
        name="Onyx Social Media"
        sequence="3" />
</data>
</odoo>
