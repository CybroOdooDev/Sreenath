<?xml version="1.0" encoding="utf-8"?>
<odoo>

        <record id="social_account_public" model="ir.rule">
            <field name="name">Public users can't interact accounts at all</field>
            <field name="model_id" ref="model_onyx_social_account"/>
            <field name="domain_force">[(0, '=', 1)]</field>
            <field name="groups" eval="[Command.link(ref('base.group_public'))]"/>
            <field name="perm_read" eval="1"/>
            <field name="perm_write" eval="0"/>
            <field name="perm_create" eval="0"/>
            <field name="perm_unlink" eval="0"/>
        </record>
        <record id="social_account_user" model="ir.rule">
            <field name="name">Users can read their accounts</field>
            <field name="model_id" ref="model_onyx_social_account"/>
            <field name="domain_force">[('dr_account_user_id', '=', user.id)]</field>
            <field name="groups" eval="[
                Command.link(ref('base.group_portal')),
                Command.link(ref('base.group_user')),
            ]"/>
            <field name="perm_read" eval="1"/>
            <field name="perm_write" eval="0"/>
            <field name="perm_create" eval="0"/>
            <field name="perm_unlink" eval="0"/>
        </record>
        <record id="social_account_admin" model="ir.rule">
            <field name="name">Administrators can access everything</field>
            <field name="model_id" ref="model_onyx_social_account"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[Command.link(ref('onyx_social_account.group_onyx_user'))]"/>
            <field name="perm_read" eval="1"/>
            <field name="perm_write" eval="0"/>
            <field name="perm_create" eval="0"/>
            <field name="perm_unlink" eval="0"/>
        </record>

</odoo>
