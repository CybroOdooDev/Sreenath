<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- Backend -->
    <record id="view_quantity_check" model="ir.ui.view">
        <field name="name">quantity.check.form</field>
        <field name="model">quantity.check</field>
        <field name="arch" type="xml">
            <form string="Quantity Check"  create="false" edit="false">

                <sheet>
                    <h1>
                        <field name="name" class="oe_inline"/>
                    </h1>
                    <div
                            class="alert alert-success text-center o_form_header"
                            role="alert"
                            style="margin-bottom:0px;"
                            attrs="{'invisible':[('state', '=', 'warning')]}"
                    >
                        <bold>
                            <field name="status"/>
                        </bold>
                    </div>
                    <div
                            class="alert alert-danger alert-dismissable text-center"
                            role="alert"
                            style="margin-bottom:0px;"
                            attrs="{'invisible':[('state', '=', 'waiting')]}"
                    >
                        <bold>
                            <field name="status"/>
                        </bold>
                    </div>
                    <field name="state" invisible="1"/>
                    <field name="res_id" invisible="1"/>
                    <field name="model" invisible="1"/>
                    <field name="method" invisible="1"/>
                    <field name="_barcode_scanned" widget="action_barcode_handler"/>
                    <notebook>
                        <page string="Crates">
                            <field name="quantity_check_package_ids" widget="one2many_list"
                                   context="{'group_by':'name'}">
                                <tree>
                                    <field name="name" string="Crate"/>
                                    <field name="product_count"/>
                                    <field name="batch_id"/>


                                    <field name="sale_id"/>
                                    <field name="picking_id"/>
                                    <field name="status"/>

                                </tree>
                            </field>
                            <group>
                                <group>
                                    <field name="total_crates"/>

                                </group>
                                <group>
                                    <field name="scanned_crates"/>

                                </group>
                                <group>
                                    <field name="not_scanned_crates"/>

                                </group>
                            </group>

                        </page>

                    </notebook>


                </sheet>
            </form>
        </field>
    </record>


    <record id="action_quantity_check" model="ir.actions.act_window">
        <field name="name">Quantity Check</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">quantity.check</field>
        <field name="view_mode">form</field>
        <field name="context">{'create': False, 'edit': False}</field>
        <field name="target">inline</field>
    </record>


    <menuitem
            id="quantity_check_root"
            web_icon="wagon_basket_qc,static/description/quantity-check-icon.png"
            name="QC"
            sequence="10"
            action="action_quantity_check"

    />


</odoo>